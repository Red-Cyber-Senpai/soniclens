<!doctype html>
<html>
<head><meta charset="utf-8"/><title>SonicLens Upload Demo</title></head>
<body style="font-family:sans-serif;padding:20px;">
  <h2>SonicLens â€” Upload an audio file</h2>
  <input type="file" id="fileInput" accept=".wav,.mp3"/>
  <button id="upBtn">Upload</button>
  <pre id="out" style="background:#f4f4f4;padding:10px;"></pre>
  <script>
  document.getElementById('upBtn').onclick = async () => {
    const f = document.getElementById('fileInput').files[0];
    if(!f){ alert('Choose a file'); return; }
    const fd = new FormData(); fd.append('file', f);
    document.getElementById('out').innerText = 'Uploading...';
    try {
      const res = await fetch('http://127.0.0.1:8000/transcribe/', { method:'POST', body: fd });
      const j = await res.json();
      document.getElementById('out').innerText = JSON.stringify(j, null, 2);
    } catch(e){
      document.getElementById('out').innerText = 'Error: ' + e;
    }
  };
  </script>
</body>
</html>
